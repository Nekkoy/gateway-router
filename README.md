# gateway-router

<img src="https://raw.githubusercontent.com/Nekkoy/gateway-router/main/img/router.jpg" width="300" height="300">

Шлюзы
==========
- <a href="https://github.com/Nekkoy/gateway-goip" target="_blank">GoIP</a>
- <a href="https://github.com/Nekkoy/gateway-letsads" target="_blank">LetsADS</a>
- <a href="https://github.com/Nekkoy/gateway-smsalpha" target="_blank">SMS Alpha</a>
- <a href="https://github.com/Nekkoy/gateway-smsclub" target="_blank">SMS Club</a>
- <a href="https://github.com/Nekkoy/gateway-smseskiz" target="_blank">SMS Eskiz</a>
- <a href="https://github.com/Nekkoy/gateway-smsfly" target="_blank">SMS Fly</a>
- <a href="https://github.com/Nekkoy/gateway-smsmobizone" target="_blank">SMS Mobizon</a>
- <a href="https://github.com/Nekkoy/gateway-smsomnicell" target="_blank">SMS Omnicell</a>
- <a href="https://github.com/Nekkoy/gateway-smsturbo" target="_blank">SMS Turbo</a>
- <a href="https://github.com/Nekkoy/gateway-smsukraine" target="_blank">SMS Ukraine</a>
- <a href="https://github.com/Nekkoy/gateway-telegram" target="_blank">Telegram</a>
- <a href="https://github.com/Nekkoy/gateway-whatsapp" target="_blank">WhatsApp</a>

Отправка сообщений в определенный шлюз по тегу
=====================================================

Функционал позволяет отправлять сообщения через определенный шлюз, используя тегирование.

#### **Логика работы**  
 1. **Выбор шлюза по тегу**  
    - Если в начале сообщения содержится тег шлюза (например, #gateway1), то сообщение отправляется только через указанный шлюз.
    - Остальная часть сообщения после тега передается в шлюз без изменений.
 2. **Отправка по умолчанию**  
    - Если тег шлюза отсутствует, сообщение отправляется через стандартный механизм маршрутизации, выбирая шлюз по заданным правилам.

Пример использования:
 - #sms_gateway Привет, как дела? → отправляется только через sms_gateway.
 - Привет, как дела? → отправляется через шлюз, выбранный системой автоматически.


Отправка сообщений по оператору мобильной связи
=====================================================

Данный механизм позволяет автоматически выбирать шлюз для отправки сообщений в зависимости от мобильного оператора получателя.  

#### **Логика работы**  
1. **Определение оператора по префиксу**  
   - Номер телефона анализируется по первым цифрам (префиксу).  
   - В зависимости от оператора выбирается соответствующий шлюз.  

2. **Маршрутизация сообщений**  
   - Если номер начинается с `+38073`, сообщение отправляется через **Шлюз 1**.  
   - Если номер начинается с `+38063`, сообщение отправляется через **Шлюз 2**.  
   - Если номер не соответствует заданным префиксам, используется шлюз по умолчанию или сообщение отклоняется.  

#### **Пример работы**  
| Номер получателя  | Выбранный шлюз  |
|-------------------|----------------|
| `+380731234567`  | **Шлюз 1**      |
| `+380631234567`  | **Шлюз 2**      |
| `+380501234567`  | **Шлюз по умолчанию** |

#### **Дополнительные возможности**  
- Поддержка нескольких операторов и гибкой маршрутизации.  
- Возможность задания шлюза по умолчанию для номеров без конкретного маршрута.  
- Логирование отправленных сообщений и их маршрутов для анализа работы системы.





